{% if page_obj.has_other_pages %}
<div class="flex justify-center space-x-2 mt-6">
    {% if page_obj.has_previous %}
    <a href="?{% if search_query %}search={{ search_query }}&{% endif %}page={{ page_obj.previous_page_number }}"
       class="px-3 py-2 bg-white border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50">
        Previous
    </a>
    {% endif %}

    {% for num in page_obj.paginator.page_range %}
    {% if page_obj.number == num %}
    <span class="px-3 py-2 bg-blue-50 border border-blue-500 rounded-md text-sm text-blue-600">
            {{ num }}
        </span>
    {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
    <a href="?{% if search_query %}search={{ search_query }}&{% endif %}page={{ num }}"
       class="px-3 py-2 bg-white border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50">
        {{ num }}
    </a>
    {% endif %}
    {% endfor %}

    {% if page_obj.has_next %}
    <a href="?{% if search_query %}search={{ search_query }}&{% endif %}page={{ page_obj.next_page_number }}"
       class="px-3 py-2 bg-white border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50">
        Next
    </a>
    {% endif %}
</div>
{% endif %}